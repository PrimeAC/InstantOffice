SET FOREIGN_KEY_CHECKS = 0;
DROP TABLE IF EXISTS Utilizador CASCADE;
DROP TABLE IF EXISTS Localizacao CASCADE;
DROP TABLE IF EXISTS Tempo CASCADE;
DROP TABLE IF EXISTS Data CASCADE;
SET FOREIGN_KEY_CHECKS = 1;

CREATE TABLE Utilizador
(
  nif      INTEGER      NOT NULL,
  nome     VARCHAR(255) NOT NULL,
  telefone INTEGER      NOT NULL,
  PRIMARY KEY (nif)
);

CREATE TABLE Localizacao
(
  location_id MEDIUMINT    NOT NULL AUTO_INCREMENT,
  posto       INTEGER,
  espaco      INTEGER      NOT NULL,
  edificio    VARCHAR(255) NOT NULL,
  PRIMARY KEY (posto)
);

CREATE TABLE Tempo
(
  time_id       MEDIUMINT NOT NULL AUTO_INCREMENT,
  time_of_day   INTEGER   NOT NULL,
  hour_of_day   INTEGER   NOT NULL,
  minute_of_day INTEGER   NOT NULL,
  PRIMARY KEY (time_id)
);

CREATE TABLE Data
(
  date_key          INTEGER NOT NULL,
  date_day          INTEGER NOT NULL,
  date_week         INTEGER NOT NULL,
  date_month_number INTEGER NOT NULL,
  date_semester     INTEGER NOT NULL,
  date_year         INTEGER NOT NULL,
  PRIMARY KEY (date_key)
);